var e,t,r;!function(e){function t(){this.globalThis=this,delete e.prototype._T_}"object"!=typeof globalThis&&(this?t():(e.defineProperty(e.prototype,"_T_",{configurable:!0,get:t}),_T_))}(Object),function(e){e.NamedNode="NamedNode",e.BlankNode="BlankNode",e.Literal="Literal"}(e||(e={})),function(e){e[e.subject=0]="subject",e[e.predicate=1]="predicate",e[e.object=2]="object",e[e.graph=3]="graph"}(t||(t={})),function(e){e.collections="COLLECTIONS",e.defaultGraphType="DEFAULT_GRAPH_TYPE",e.equalsMethod="EQUALS_METHOD",e.id="ID",e.idStamp="ID_STAMP",e.identity="IDENTITY",e.reversibleId="REVERSIBLE_ID",e.variableType="VARIABLE_TYPE"}(r||(r={}));var a={boolean:"http://www.w3.org/2001/XMLSchema#boolean",dateTime:"http://www.w3.org/2001/XMLSchema#dateTime",double:"http://www.w3.org/2001/XMLSchema#double",decimal:"http://www.w3.org/2001/XMLSchema#decimal",integer:"http://www.w3.org/2001/XMLSchema#integer",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",string:"http://www.w3.org/2001/XMLSchema#string"};function n(e,t){if(e===t)return!0;if(!e||!t)return e===t;if(Array.isArray(e)||Array.isArray(t))return!(!Array.isArray(e)||!Array.isArray(t))&&(n(e[0],t[0])&&n(e[1],t[1])&&n(e[2],t[2])&&n(e[3],t[3]));if(i.isQuad(e)||i.isQuad(t))return!(!i.isQuad(e)||!i.isQuad(t))&&(n(e.subject,t.subject)&&n(e.predicate,t.predicate)&&n(e.object,t.object)&&n(e.graph,t.graph));switch(e.termType){case"Literal":return e.termType===t.termType&&e.value===t.value&&t.datatype==t.datatype&&t.language==t.language;default:return!(!e.termType||!t.termType)&&(e.termType===t.termType&&e.value===t.value)}}var o={equals(e){return n(this,e)},toCanonical(){return this}};class i{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.bnIndex=e.bnIndex||0,this.supports=e.supports||{[r.collections]:!1,[r.defaultGraphType]:!1,[r.equalsMethod]:!1,[r.id]:!0,[r.idStamp]:!1,[r.identity]:!1,[r.reversibleId]:!0,[r.variableType]:!1}}static isQuad(e){return!Array.isArray(e)&&"object"==typeof e&&null!==e&&!!("subject"in e&&"predicate"in e&&"object"in e)}namedNode(t){var r=Object.create(o);return r.termType=e.NamedNode,r.value=t,r}blankNode(t){var r=Object.create(o);return r.termType=e.BlankNode,r.value=t||"b".concat(++this.bnIndex),r}literal(t,r){if("string"!=typeof t)return this.parseLiteral(t);var n=Object.create(o);return n.termType=e.Literal,n.language="string"==typeof r?r:void 0,n.datatype="string"==typeof r?this.namedNode(a.langString):r||this.namedNode(a.string),n.value=t,n}defaultGraph(){return this.namedNode("rdf:defaultGraph")}quad(e,t,r,a){return{subject:e,predicate:t,object:r,graph:a||this.defaultGraph()}}isQuad(e){return i.isQuad(e)}quadruple(e,t,r,a){return[e,t,r,a||this.defaultGraph()]}fromTerm(e){return"Literal"===e.termType?this.literal(e.value,e.language||e.datatype):{termType:e.termType,value:e.value}}fromQuad(e){return{subject:e.subject,predicate:e.predicate,object:e.object,graph:e.graph||this.defaultGraph()}}fromQdr(e){return{subject:e[0],predicate:e[1],object:e[2],graph:e[3]||this.defaultGraph()}}qdrFromQuad(e){return[e.subject,e.predicate,e.object,e.graph||this.defaultGraph()]}qdrFromQdr(e){return[e[0],e[1],e[2],e[3]||this.defaultGraph()]}equals(e,t){return n(e,t)}fromId(e){return this.termFromNQ(e)}id(e){return this.toNQ(e)}termFromNQ(e){if(e.startsWith("<"))return this.namedNode(e.slice("<".length,-1));if(e.startsWith("_"))return this.blankNode(e.slice("_:".length,-1));if(e.startsWith('"')){var[t,r]=e.split("^^"),[a,n]=t.split("@");return this.literal(a.slice(1,-1),n||(r?this.namedNode(r):void 0))}throw new Error("Unknown term given")}toNQ(e){if(Array.isArray(e)){var t=e[3]===this.defaultGraph()?"":this.toNQ(e[3])+" ";return"".concat(this.toNQ(e[0])," ").concat(this.toNQ(e[1])," ").concat(this.toNQ(e[2])," ").concat(t,".")}return this.isQuad(e)?this.quadToNQ(e):this.termToNQ(e)}parseLiteral(e){var t=void 0,r=void 0;if("number"==typeof e||e instanceof Number)r=e.toString().indexOf("e")<0&&Math.ceil(e)<=Number.MAX_SAFE_INTEGER?Number.isInteger(e)?a.integer:a.decimal:a.double,t=e.toString();else if("boolean"==typeof e||e instanceof Boolean)t=e.toString(),r=a.boolean;else if("bigint"==typeof e)r=a.integer,t=e.toString();else if("object"==typeof e&&e instanceof Date){if(isNaN(e.getTime()))throw new Error("Invalid date given");t=e.toISOString(),r=a.dateTime}if(void 0!==r)return this.literal(t,this.namedNode(r));throw new Error("Can't parse value '".concat(e,"'"))}termToNQ(t){switch(t.termType){case e.BlankNode:return"_:".concat(t.value);case e.NamedNode:return"<".concat(t.value,">");case e.Literal:var r='"'.concat(t.value.replace(/([\n"\\\r])/g,e=>{switch(e){case"\n":return"\\n";case"\r":return"\\r";case'"':return'\\"';case"\\":return"\\\\";default:return e}}),'"');return t.datatype?t.datatype.value===a.string?r:"".concat(r,"^^").concat(this.termToNQ(t.datatype)):t.language?"".concat(r,"@").concat(t.language):r;default:throw new Error("Nonstandard termtype '".concat(t.termType,"' given"))}}quadrupleToNQ(e){var r=e[t.graph]&&e[t.graph]!==this.defaultGraph()?this.toNQ(e[t.graph])+" ":"";return"".concat(this.toNQ(e[t.subject])," ").concat(this.toNQ(e[t.predicate])," ").concat(this.toNQ(e[t.object])," ").concat(r,".\n")}quadToNQ(e){return this.quadrupleToNQ([e.subject,e.predicate,e.object,e.graph||this.defaultGraph()])}}var u=new i;function d(e){return"object"==typeof e&&null!==e&&"termType"in e}function c(t){return d(t)&&t.termType===e.NamedNode}function l(t){return d(t)&&t.termType===e.BlankNode}function s(t){return d(t)&&t.termType===e.Literal}var p=[e.NamedNode.toString(),e.BlankNode.toString(),e.Literal.toString()];function h(e){return d(e)&&!0===p.includes(e.termType)}var f,g,m,y=[e.NamedNode.toString(),e.BlankNode.toString()];function b(e){return d(e)&&!0===y.includes(e.termType)}function N(e){return"object"==typeof e&&null!==e&&"subject"in e}function T(e){return e.value.indexOf("#")<0?e.value:e.value.split("#")[0]}function v(e,t,r){!function(e,t){var r=globalThis[e];return void 0===r||r===u||t}(e,r)?(void 0===g||r)&&(globalThis[e]=t,g=t):(globalThis[e]=t,g=t)}if("undefined"!=typeof Symbol){var w=Symbol.for("rdfFactory");f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];v(w,e,t),g=globalThis[w]},m=w}else{f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];v("rdfFactory",e,t)},m="rdfFactory",g=globalThis.rdfFactory}f(u);var Q=e=>t=>g.namedNode("".concat(e).concat(t)),j="undefined"!=typeof Proxy?new Proxy(g||{},{ownKeys:()=>g&&Object.keys(g)||[],getOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(g,t),set:(e,t,r)=>(g[t]=r,!0),get:(e,t)=>g[t]}):["namedNode","blankNode","literal","defaultGraph","quad","quadruple","fromTerm","fromQuad","fromQdr","qdrFromQuad","qdrFromQdr","equals","id","toNQ","fromId","termToNQ","termFromNQ","quadrupleToNQ","quadToNQ","supports"].reduce((e,t)=>(e[t]=function(){return g[t](...arguments)},e),{});export default j;export{r as Feature,i as PlainFactory,t as QuadPosition,e as TermType,Q as createNS,T as doc,g as globalFactory,m as globalSymbol,l as isBlankNode,s as isLiteral,c as isNamedNode,b as isNode,N as isQuad,h as isSomeTerm,d as isTerm,f as setup};
//# sourceMappingURL=index.bundled.js.map
